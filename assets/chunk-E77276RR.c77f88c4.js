import{f as E,j as k,r as b,k as x,c as F}from"./index.0c18ebab.js";var I=E(function(e,r){const{htmlWidth:a,htmlHeight:n,alt:s,...i}=e;return k("img",{width:a,height:n,ref:r,alt:s,...i})});I.displayName="NativeImage";function O(t){const{loading:e,src:r,srcSet:a,onLoad:n,onError:s,crossOrigin:i,sizes:f,ignoreFallback:g}=t,[c,u]=b.exports.useState("pending");b.exports.useEffect(()=>{u(r?"loading":"pending")},[r]);const l=b.exports.useRef(),h=b.exports.useCallback(()=>{if(!r)return;d();const o=new Image;o.src=r,i&&(o.crossOrigin=i),a&&(o.srcset=a),f&&(o.sizes=f),e&&(o.loading=e),o.onload=m=>{d(),u("loaded"),n==null||n(m)},o.onerror=m=>{d(),u("failed"),s==null||s(m)},l.current=o},[r,i,a,f,n,s,e]),d=()=>{l.current&&(l.current.onload=null,l.current.onerror=null,l.current=null)};return x(()=>{if(!g)return c==="loading"&&h(),()=>{d()}},[c,h,g]),g?"loaded":c}var j=(t,e)=>t!=="loaded"&&e==="beforeLoadOrError"||t==="failed"&&e==="onError";function w(t,e=[]){const r=Object.assign({},t);for(const a of e)a in r&&delete r[a];return r}var y=E(function(e,r){const{fallbackSrc:a,fallback:n,src:s,srcSet:i,align:f,fit:g,loading:c,ignoreFallback:u,crossOrigin:l,fallbackStrategy:h="beforeLoadOrError",referrerPolicy:d,...o}=e,m=a!==void 0||n!==void 0,v=c!=null||u||!m,N=O({...e,ignoreFallback:v}),S=j(N,h),p={ref:r,objectFit:g,objectPosition:f,...v?o:w(o,["onError","onLoad"])};return S?n||k(F.img,{as:I,className:"chakra-image__placeholder",src:a,...p}):k(F.img,{as:I,src:s,srcSet:i,crossOrigin:l,loading:c,referrerPolicy:d,className:"chakra-image",...p})});y.displayName="Image";export{y as I};
